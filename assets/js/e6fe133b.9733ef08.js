"use strict";(self.webpackChunkvkuhlmann_www=self.webpackChunkvkuhlmann_www||[]).push([[18],{8615:function(n,e,t){t.r(e),t.d(e,{contentTitle:function(){return pn},default:function(){return gn},frontMatter:function(){return cn},metadata:function(){return dn},toc:function(){return hn}});var o=t(7462),r=t(3366),a=t(7294),i=t(3905),l=t(5646),s=t(1874),u=t(4578),c=t(1003),p=t(5861),d=t(7757),h=t.n(d),m=function(){function n(){this.code="",this.rawCode="",this.pos=0,this.memory={},this.timeoffset=Math.floor(new Date(2021,3,21).getTime()/1e3),this.stack=[],this.isStopRequested=!1,this.key=0,this.extraDelay=0,this.nextDisplayLine=-1,this.screenHeight=8}var e=n.prototype;return e.SetCode=function(n){n=n.replace("\r\n","\n").replace("\r","")+"\n",this.rawCode=n,this.pos=0,this.code=this.rawCode;for(var e=!1,t=0;t<this.code.length;t++)'"'==this.code[t]?e=!e:":"!=this.code[t]||e||(this.code=this.code.slice(0,t)+"\n"+this.code.slice(t+1))},e.DataTypeError=function(){return new Error("TI-BASIC: Invalid data type")},e.SyntaxError=function(){return new Error("TI-BASIC: Invalid syntax")},e.ArgumentError=function(){return new Error("TI-BASIC: Invalid argument count")},e.DomainError=function(){return new Error("TI-BASIC: Invalid domain")},e.IncrementError=function(){return new Error("TI-BASIC: Invalid increment")},e.DimMismatchError=function(){return new Error("TI-BASIC: Dim mismatch")},e.InvalidDimError=function(){return new Error("TI-BASIC: Invalid dim")},e.UndefinedError=function(){return new Error("TI-BASIC: Undefined")},e.LabelError=function(){return new Error("TI-BASIC: Unknown label")},e.MemoryError=function(){return new Error("TI-BASIC: Memory")},e.DebugEval=function(n){return this.SetCode(n),k.Evaluate(this)},e.ClrHome=function(){console.log("ClrHome not overridden!")},e.Output=function(n,e,t){console.log("Output not overridden!")},e.GetKey=function(){return this.extraDelay=10,0},e.StartTmr=function(){return this.extraDelay=10,Math.floor((new Date).getTime()/1e3)-this.timeoffset},e.Break=function(){this.isStopRequested=!0,this.SetStatus("Stopped")},e.MoveScreenUp=function(){console.log("MoveScreenUp not overridden!")},e.SetStatus=function(n){},e.PushStack=function(n){if(200==this.stack.length)throw this.MemoryError();this.stack.push(n)},e.PopStack=function(){return this.stack.pop()},n}();function f(n){return new Promise((function(e){return setTimeout(e,n)}))}var g=function(){function n(){}return n.ReadArgs=function(n,e){var t=n.code;if("("!=t[n.pos])throw n.SyntaxError();n.pos++;for(var o=[],r=e.split(","),a=0;a<r.length;a++){var i=r[a];if(")"==t[n.pos]||"\n"==t[n.pos]){if(i.includes("["))break;throw n.ArgumentError()}if(a>0){if(","!=t[n.pos])throw n.SyntaxError();n.pos++}if((")"==t[n.pos]||"\n"==t[n.pos])&&i.includes("["))break;var l=null;if("v"==i){if((l=t[n.pos])<"A"||l>"Z")throw n.SyntaxError();n.pos++}else l=k.Evaluate(n,i);o.push(l)}if(","==t[n.pos])throw n.ArgumentError();if(")"!=t[n.pos]&&"\n"!=t[n.pos])throw n.SyntaxError();return")"==t[n.pos]&&n.pos++,o},n.InstrOutput=function(e){var t=n.ReadArgs(e,"n,n,s");e.Output(t[0],t[1],t[2])},n.InstrClrHome=function(n){n.ClrHome()},n.DisplVal=function(e,t){if("string"!=typeof t)for(t=n.TIToString(e,t);t.length<16;)t=" "+t;-1!=e.nextDisplayLine&&e.nextDisplayLine!=e.screenHeight||(e.MoveScreenUp(),e.nextDisplayLine=e.screenHeight-1),e.Output(e.nextDisplayLine+1,1,t),e.nextDisplayLine++},n.InstrDisp=function(e){var t=e.code;if(" "!=t[e.pos])throw e.SyntaxError();e.pos++;for(var o=!1;"\n"!=t[e.pos];){if(o){if(","!=t[e.pos])throw e.SyntaxError();e.pos++}o=!0;var r=k.Evaluate(e,"nls");n.DisplVal(e,r)}},n.ReadFunctionName=function(n,e){void 0===e&&(e=!1);for(var t=n.code,o=n.pos;o<t.length;o++){var r=t[o]>="A"&&t[o]<="Z";if((o>n.pos||e)&&(r=r||t[o]>="a"&&t[o]<="z"),!r)break}if(o-n.pos<2)return null;var a=n.pos;return n.pos=o,t.substring(a,o)},n.ReadListName=function(n){var e=n.pos,t=n.code;"l"==t[n.pos]&&n.pos++;for(var o="l",r=0;r<6&&(t[n.pos]>="A"&&t[n.pos]<="Z"||t[n.pos]>="0"&&t[n.pos]<="9");r++)o+=t[n.pos],n.pos++;if(7==o.length)throw n.pos--,n.SyntaxError();if(1==o.length)throw n.pos=e,n.SyntaxError();if(o[1]>="0"&&o[1]<="9"&&(o.length>1||o[1]>"6"))throw n.pos=e,n.SyntaxError();return o},n.RunStatement=function(e){var t=e.code;if(e.pos!=t.length)if("\n"!=t[e.pos]){var o=e.pos,r=n.ReadFunctionName(e,!1);if(null!=r){var a="Instr"+r;if(null!=n[a]){if(n[a](e),"\n"!=t[e.pos])throw e.SyntaxError();return void e.pos++}if(null!=E[a])return void E[a](e)}e.pos=o;var i=k.Evaluate(e);if("-"==t[e.pos]&&">"==t[e.pos+1])if(e.pos+=2,t[e.pos]>="A"&&t[e.pos]<="Z"&&"\n"==t[e.pos+1]){if("number"!=typeof i)throw e.DataTypeError();e.memory[t[e.pos]]=i,e.pos++}else if("l"==t[e.pos]||t[e.pos]>="A"&&t[e.pos]<="Z"&&"object"==typeof i){var l=n.ReadListName(e);if("("==t[e.pos]){var s=n.ReadArgs(e,"n")[0];if(s!=Math.floor(s))throw e.InvalidDimError();if(null==e.memory[l]||s<1||s>e.memory[l].length+1)throw e.InvalidDimError();if("\n"!=t[e.pos])throw e.SyntaxError();if("number"!=typeof i)throw e.DataTypeError();e.memory[l][s-1]=i}else{if("\n"!=t[e.pos])throw e.SyntaxError();if("object"!=typeof i)throw e.DataTypeError();e.memory[l]=i}}else{var u=e.pos;if("dim"!=n.ReadFunctionName(e,!0))throw e.pos=u,e.SyntaxError();if("number"!=typeof i)throw e.DataTypeError();if(Math.floor(i)!=i)throw e.InvalidDimError();if("("!=t[e.pos])throw e.SyntaxError();if(e.pos++,"l"!=t[e.pos])throw e.SyntaxError();var c=n.ReadListName(e);null==e.memory[c]&&(e.memory[c]=[]);var p=e.memory[c];for(p.splice(i);p.length<i;)p.push(0);if(")"!=t[e.pos]&&"\n"!=t[e.pos])throw e.SyntaxError();")"==t[e.pos]&&e.pos++}if(e.memory.Ans=i,"\n"!=t[e.pos])throw e.SyntaxError();e.pos++}else e.pos++},n.Run=function(){var e=(0,p.Z)(h().mark((function e(t){var o,r,a,i,l,s,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isStopRequested=!1,t.SetStatus("Uncompleted"),o=t.code,w(),r=null,e.prev=5,t.isPaused=!1;case 7:if(!(t.pos<o.length)){e.next=17;break}if(!t.isStopRequested){e.next=11;break}return t.isStopRequested=!1,e.abrupt("return");case 11:return n.RunStatement(t),e.next=14,f(2+t.extraDelay);case 14:t.extraDelay=0,e.next=7;break;case 17:t.isPaused=!1,e.next=39;break;case 20:if(e.prev=20,e.t0=e.catch(5),t.isPaused=!1,null==(a=e.t0.message)||!a.startsWith("TI-BASIC")){e.next=37;break}for(i=t.rawCode.lastIndexOf("\n",t.pos-1)+1,-1==(l=t.rawCode.indexOf("\n",i+1))&&(l=t.rawCode.length),s=t.rawCode.substring(0,i).split("\n").length,r="Error at line "+s+": "+e.t0.message+"\n",r+="| "+t.rawCode.substring(i,l)+"\n",r+="|",u=0;u<t.pos-i+1;u++)r+=" ";throw r+="^",t.SetStatus(r),e.t0;case 37:throw t.SetStatus("Exception"),e.t0;case 39:t.SetStatus("Success");case 40:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(n){return e.apply(this,arguments)}}(),n.FindEnd=function(e,t,o){var r;void 0===t&&(t=!1),void 0===o&&(o=null);var a=e.pos;e.pos=null!=(r=o)?r:a;for(var i=0,l=!1,s=e.code,u=null;e.pos<s.length;){u=e.pos;var c=n.ReadFunctionName(e);if(e.pos=s.indexOf("\n",e.pos)+1,("While"==c||"For"==c||"Repeat"==c||"Then"==c&&l)&&i++,"Else"==c&&0==i&&t)break;if("End"==c){if(0==i)break;i--}l="If"==c}return e.pos==s.length&&(u=s.length),e.pos=a,u},n.TIToString=function(n,e){if("number"==typeof e)return e.toString();if("object"==typeof e){if(0==e.length)throw n.InvalidDimError();for(var t="{",o=0;o<e.length-1;o++)t+=e[o]+" ";return e.length>0&&(t+=""+e[e.length-1]),t+="}"}return e.toString()},n}(),E=function(){},k=function(){function n(){}return n.Evaluate=function(e,t){void 0===t&&(t="nsl");var o=e.code,r=e.pos;if('"'==o[e.pos]){var a=o.indexOf('"',e.pos+1),i=o.substring(e.pos+1,a);if(e.pos=a+1,!t.includes("s"))throw e.pos=r,e.DataTypeError();return i}var l=[n.EvaluateLiteral(e)],s=[];if("string"==typeof l[l.length-1])throw e.DataTypeError();for(;"\n"!=o[e.pos];){var u=o[e.pos];if(" "==u){for(var c=e.pos+1;o[c]>="a"&&o[c]<="z";c++)u+=o[c];if(" "!=(u+=o[c])[u.length-1])throw e.SyntaxError()}else">=".includes(o[e.pos+1])&&(u+=o[e.pos+1]);if("->"==u||","==u[0]||")"==u[0]||"}"==u[0])break;n.recognizedBinOperators.includes(u)||(u=""),s.push(u),e.pos+=u.length,l.push(n.EvaluateLiteral(e))}var p=n.ResolveBinExpress(e,l,s,0,s.length);if("number"==typeof p&&!t.includes("n")){if(!t.includes("s"))throw e.DataTypeError();p=g.TIToString(e,p)}if("object"==typeof p&&!t.includes("l")){if(!t.includes("s"))throw e.DataTypeError();p=g.TIToString(e,p)}return p},n.EvaluateLiteral=function(e){var t=e.code;if(t[e.pos]>="0"&&t[e.pos]<="9"||"."==t[e.pos]||"+"==t[e.pos]||"-"==t[e.pos]){for(var o=e.pos+1;"\n"!=t[o]&&(!(t[o]<"0"||t[o]>"9")||"."==t[o]);o++);var r=parseFloat(t.substring(e.pos,o));return e.pos=o,r}if(t[e.pos]>="A"&&t[e.pos]<="Z"){var a=e.memory[t[e.pos]];return e.pos+=1,a}if("l"==t[e.pos]){var i=g.ReadListName(e);if(null==e.memory[i])throw e.pos--,e.UndefinedError();if("("==t[e.pos]){var l=g.ReadArgs(e,"n")[0];if(l!=Math.floor(l))throw e.InvalidDimError();if(l<1||l>e.memory[i].length)throw e.InvalidDimError();return e.memory[i][l-1]}return e.memory[i]}if("("==t[e.pos]){e.pos+=1;var s=n.Evaluate(e);if("\n"!=t[e.pos]){if(")"!=t[e.pos])throw e.SyntaxError();e.pos++}return s}if("{"==t[e.pos]){e.pos+=1;for(var u=[];"\n"!=t[e.pos]&&"}"!=t[e.pos];){if(u.length>0){if(","!=t[e.pos])throw e.SyntaxError();e.pos++}var c=n.Evaluate(e);u.push(c)}return"}"==t[e.pos]&&e.pos++,u}if(t[e.pos]>="a"&&t[e.pos]<="z"||t[e.pos]>="A"&&t[e.pos]<="Z"){var p=g.ReadFunctionName(e,!0),d="Fn"+(p[0].toUpperCase()+p.substring(1));if(null==n[d])throw e.SyntaxError();return n[d](e)}throw e.SyntaxError()},n.ResolveBinExpress=function(e,t,o,r,a){if(r==a)return t[r];for(var i=1/0,l=-1,s=r;s<a;s++){var u=n.binAssociativity[o[s]];u>i||(i=u,l=s)}var c=n.ResolveBinExpress(e,t,o,r,l),p=n.ResolveBinExpress(e,t,o,l+1,a);return n.binPerform[o[l]](e,c,p)},n}();function N(n){return function(e,t){if("number"==typeof t)return n(t);for(var o=new Array(t.length),r=0;r<t.length;r++)o[r]=n(t[r]);return o}}function y(n){return function(e,t,o){var r="number"==typeof t,a="number"==typeof o;if(r&&a)return n(t,o);if(r){for(var i,l=[],s=(0,c.Z)(o);!(i=s()).done;){var u=i.value;l.push(n(t,u))}return l}if(a){for(var p,d=[],h=(0,c.Z)(t);!(p=h()).done;){var m=p.value;d.push(n(m,o))}return d}if(t.length!=o.length)throw e.DimMismatchError();for(var f=new Array(t.length),g=0;g<t.length;g++)f[g]=n(t[g],o[g]);return f}}for(var v in k.binPerformSing={"^":function(n,e){return Math.pow(n,e)},"*":function(n,e){return n*e},"":function(n,e){return n*e},"/":function(n,e){return n/e},"+":function(n,e){return n+e},"-":function(n,e){return n-e},"=":function(n,e){return n==e?1:0},"!=":function(n,e){return n!=e?1:0},">":function(n,e){return n>e?1:0},"<":function(n,e){return n<e?1:0},">=":function(n,e){return n>=e?1:0},"<=":function(n,e){return n<=e?1:0}},k.binPerform={},k.recognizedBinOperators=[],k.binPerform)k.recognizedBinOperators.push(v);function w(){for(var n in k.binPerformSing)k.binPerform[n]=y(k.binPerformSing[n]);for(var e in k.binPerform)k.recognizedBinOperators.includes(e)||k.recognizedBinOperators.push(e)}function C(n){return n>="0"&&n<="9"||n>="A"&&n<="Z"}k.binAssociativity={"^":3,"*":2,"":2,"/":2.5,"+":1,"-":1.5,"=":0,"!=":0,">":0,"<":0,">=":0,"<=":0," and ":-1," or ":-1," xor ":-1},k.binPerformSing[" and "]=function(n,e){return 0!=n&&0!=e?1:0},k.binPerformSing[" or "]=function(n,e){return 0!=n||0!=e?1:0},k.binPerformSing[" xor "]=function(n,e){return 0!=n!=(0!=e)?1:0},k.FnRemainder=function(n){var e=n.code,t=g.ReadArgs(n,"nl,nl");return y((function(t,o){if(t!=Math.floor(t)||o!=Math.floor(o))throw")"==e[n.pos-1]&&n.pos--,n.DomainError();return t%o}))(n,t[0],t[1])},k.FnInt=function(n){var e=g.ReadArgs(n,"nl");return N((function(n){return Math.floor(n)}))(n,e[0])},k.FnAbs=function(n){var e=g.ReadArgs(n,"nl");return N((function(n){return Math.abs(n)}))(n,e[0])},k.FnRound=function(n){var e=g.ReadArgs(n,"nl,[n");return 1==e.length&&(e[1]=0),y((function(n,e){return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}))(n,e[0],e[1])},k.FnMax=function(n){var e=g.ReadArgs(n,"nl,nl");return y((function(n,e){return Math.max(n,e)}))(n,e[0],e[1])},k.FnMin=function(n){var e=g.ReadArgs(n,"nl,nl");return y((function(n,e){return Math.min(n,e)}))(n,e[0],e[1])},k.FnStartTmr=function(n){return n.StartTmr()},k.FnGetKey=function(n){return n.GetKey()},k.FnNot=function(n){var e=g.ReadArgs(n,"nl");return N((function(n){return 0==n?1:0}))(n,e[0])},k.FnDim=function(n){var e=n.code;if("("!=e[n.pos])throw n.SyntaxError();if(n.pos++,"l"!=e[n.pos])throw n.SyntaxError();var t=g.ReadListName(n);if(null==n.memory[t])throw n.UndefinedError();if(")"!=e[n.pos]&&"\n"!=e[n.pos])throw n.SyntaxError();return")"==e[n.pos]&&n.pos++,t.length},E.InstrIf=function(n){var e=n.code;if(" "!=e[n.pos])throw n.SyntaxError();n.pos++;var t=k.Evaluate(n);if("\n"!=e[n.pos])throw n.SyntaxError();n.pos++;var o=0!=t,r=n.pos;if("Then"==g.ReadFunctionName(n)){if("\n"!=e[n.pos])throw n.SyntaxError();return n.pos++,n.PushStack({type:"If",value:o}),void(o||(n.pos=g.FindEnd(n,!0)))}if(n.pos=r,0==t){var a=e.indexOf("\n",n.pos);n.pos=-1!=a?a+1:e.length}},E.InstrElse=function(n){if(n.stack.length<1)throw n.SyntaxError();var e=n.stack[n.stack.length-1];if("If"!=e.type)throw n.SyntaxError();if("\n"!=n.code[n.pos])throw n.SyntaxError();n.pos++,e.value&&(n.pos=g.FindEnd(n))},E.InstrEnd=function(n){var e=n.PopStack();if(null==e)throw n.SyntaxError();var t=n.code;if("\n"!=t[n.pos])throw n.SyntaxError();if(n.pos++,"If"!=e.type&&"WhileFalse"!=e.type&&"ForFalse"!=e.type){if("While"==e.type||"Repeat"==e.type){var o=n.pos;n.pos=e.condPos;var r=k.Evaluate(n);if("\n"!=t[n.pos])throw n.SyntaxError();return n.pos++,void(0!=r?n.PushStack(e):n.pos=o)}if("For"==e.type)return n.memory[e.variable]+=e.increment,void(e.condition()&&(n.pos=e.execPos,n.PushStack(e)));throw Error("Unknown environment")}},E.InstrWhile=function(n){var e=n.code;if(" "!=e[n.pos])throw n.SyntaxError();n.pos++;var t=n.pos,o=k.Evaluate(n);if("\n"!=e[n.pos])throw n.SyntaxError();if(n.pos++,0!=o){var r=n.pos;n.PushStack({type:"While",condPos:t,execPos:r})}else{n.PushStack({type:"WhileFalse"});var a=g.FindEnd(n);n.pos=a}},E.InstrRepeat=function(n){var e=n.code;if(" "!=e[n.pos])throw n.SyntaxError();n.pos++;var t=n.pos;k.Evaluate(n);if("\n"!=e[n.pos])throw n.SyntaxError();n.pos++;var o=n.pos;n.PushStack({type:"Repeat",condPos:t,execPos:o})},E.InstrFor=function(n){var e=n.code,t=g.ReadArgs(n,"v,n,n,[n");if("\n"!=e[n.pos])throw n.SyntaxError();n.pos++;var o=n.pos;if(t.length<4&&(t=[].concat(t,[1])),0==t[3])throw n.IncrementError();n.memory[t[0]]=t[1];var r=null;if((r=t[3]>0?function(){return n.memory[t[0]]<=t[2]}:function(){return n.memory[t[0]]>=t[2]})())n.PushStack({type:"For",execPos:o,variable:t[0],increment:t[3],condition:r});else{n.PushStack({type:"ForFalse"});var a=g.FindEnd(n);n.pos=a}},E.InstrLbl=function(n){var e=n.code;if(" "!=e[n.pos])throw n.SyntaxError();if(n.pos++,!C(e[n.pos]))throw n.SyntaxError();if(n.pos++,"\n"!=e[n.pos]){if(!C(e[n.pos]))throw n.SyntaxError();if(n.pos++,"\n"!=e[n.pos])throw n.SyntaxError()}},E.InstrGoto=function(n){var e=n.code;if(" "!=e[n.pos])throw n.SyntaxError();if(n.pos++,!C(e[n.pos]))throw n.SyntaxError();var t=e[n.pos];if(n.pos++,"\n"!=e[n.pos]){if(!C(e[n.pos]))throw n.SyntaxError();if(t+=e[n.pos],n.pos++,"\n"!=e[n.pos])throw n.SyntaxError();var o=e.search(new RegExp("(?<=\n|^)Lbl "+t+"\n"));if(-1==o)throw n.LabelError();n.pos=e.indexOf("\n",o)+1}},E.InstrStop=function(n){var e=n.code;if("\n"!=e[n.pos])throw n.SyntaxError();n.pos=e.length},E.InstrPause=function(n){var e=n.code,t=e.lastIndexOf("\n",n.pos-1)+1;if(!n.isPaused){if(" "==e[n.pos]&&(n.pos++,"\n"!=e[n.pos])){var o=k.Evaluate(n,"nls");g.DisplVal(n,o)}if("\n"!=e[n.pos])throw n.SyntaxError();n.isPaused=!0,n.pos=t,n.SetStatus("Paused")}n.pos=t,105==n.GetKey()&&(n.isPaused=!1,n.SetStatus("Uncompleted"),n.pos=e.indexOf("\n",n.pos)+1)};var b="m60aWAb_UH0ALXt3WvJZ",I="O0mrM2qA1_Pbz556ZBnk",T="i0yvUrKc1eNuNQ65FWrT",S="YCiG3fK0RO9hZUvak2kt",x="HPe5fd_sL5b7uMJJryNR",R="_oMDQpj9_qLCkZKPHhUS",K="LAmVJup4QjuCH3bJ29dw",A="wabVoZNzyBubeNnqpZks",O="QAfvgFSWdo3MgYT6cL7G",D="_giRfk4S9SuOpHmncW6Y",G="_th_13NK6aNOMvKsSrrC",B="N91MmnAGaWzXCkrRYUNf",L=t(6010),F=t(6486),H=t.n(F),U=t(9882),Z=t(1242),M=t(5671),J=t(4544),P=t(7410),W="codeBlockContainer_FUmw",_="codeBlockContent_1XSv",j="codeBlockTitle_1wbM",z="copyButton_3a42",V=t(3618),q=t(7694),Y=t(8206);P.Z.languages.TIBasic={function:{pattern:/ClrHome|Output|If|Else|End|Then|While|Break/}};var $=function(n){function e(e){return n.call(this,e)||this}return(0,u.Z)(e,n),e.prototype.render=function(){return a.createElement("button",(0,o.Z)({className:(0,L.Z)(b),onClick:this.props.onClick},this.props),this.props.children)},e}(a.Component),X=function(n){function e(e){var t;return(t=n.call(this,e)||this).state={grid:H().times(8,(function(n){return new Array(16).fill(" ")}))},t}(0,u.Z)(e,n);var t=e.prototype;return t.render=function(){var n=this;return a.createElement("div",{className:(0,L.Z)(O,this.context.isDarkTheme&&A),style:{flex:"0 0 auto"}},H().times(8,(function(e){return H().times(16,(function(t){return a.createElement("span",{key:16*e+t},n.state.grid[e][t])}))})))},t.getScreenHeight=function(){return this.state.grid.length},e}(a.Component);function Q(n){var e=(0,a.useState)(!1),t=e[0],o=e[1],r=n.code;return a.createElement("button",{type:"button","aria-label":(0,Z.I)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:(0,L.Z)(z,"clean-btn"),onClick:function(){(0,Y.Z)(r),o(!0),setTimeout((function(){return o(!1)}),2e3)},style:{marginRight:"20px"}},t?a.createElement(Z.Z,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):a.createElement(Z.Z,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))}function nn(n){var e,t=(0,a.useState)(null!=(e=n.code)?e:""),r=t[0],i=t[1],l=(0,a.useRef)(null),s=(0,a.useContext)(U.Z).isDarkTheme?V.Z:q.Z,u=(0,a.useState)(!1),c=u[0],p=u[1];(0,a.useEffect)((function(){p(!0)}),[]);var d=(0,a.useCallback)((function(e){var t=e.slice(0,-1);console.log("Setting new code to ("+t+")"),i(t),null!=n.codeChanged&&n.codeChanged(t)}),[]);(0,M.Y)(l,d,{disabled:!1,indentation:2});var h="TIBasic";return a.createElement(J.ZP,(0,o.Z)({},J.lG,{Prism:P.Z,key:String(c),theme:s,code:r,language:h}),(function(e){var t=e.className,o=e.style,i=e.tokens,s=(e.getLineProps,e.getTokenProps);return a.createElement("div",{className:(0,L.Z)(W),style:o},a.createElement("div",{className:(0,L.Z)(j)},n.title),a.createElement("div",{className:(0,L.Z)(_,h)},a.createElement("pre",{className:t,style:Object.assign({},o,{height:"200px",overflowY:"scroll"}),spellCheck:"false",ref:l},a.createElement("code",null,i.map((function(n,e){return a.createElement(a.Fragment,{key:"aa-"+e},n.filter((function(n){return!n.empty})).map((function(n,e){return a.createElement("span",s({token:n,key:e}))})),"\n")})))),a.createElement(Q,{code:r})))}))}X.contextType=U.Z;var en=function(n){function e(e){var t;(t=n.call(this,e)||this).containerRef=a.createRef(),t.screen=a.createRef(),t.tiContext=null,t.runButton=a.createRef(),t.stopButton=a.createRef(),t.status=a.createRef(),t.codeEdit=a.createRef(),t.state={isRunning:!1};var o=t.props.code;return o=(o=(o=(o=(o=(o=(o=o.replace(/(^|\n)( |\t)+/g,"\n")).replace(/##[^\n]*\n/g,"")).replace(/^\n/g,"")).replace(/\u2192/g,"->")).replace(/\u230a/g,"l")).replace(/\u2260/g,"!=")).replace(/\xAD/g,""),t.initialCode=o,t.thecode=o,t}(0,u.Z)(e,n);var t=e.prototype;return t.editorCodeChanged=function(n){this.thecode=n},t.render=function(){var n=this;try{var e;return a.createElement("div",{style:{borderLeft:"2px solid hsl(0, 100%, 30%)",padding:"6px 0px 6px 6px",marginBottom:"5px"}},a.createElement(nn,{title:null!=(e=this.props.title)?e:"Try-it:",code:this.initialCode,codeChanged:function(e){return n.editorCodeChanged(e)}}),a.createElement("div",{className:(0,L.Z)(K,this.context.isDarkTheme&&A),style:{padding:"8px"}},a.createElement("div",{className:(0,L.Z)(D)},a.createElement("div",{style:{display:"flex",flexFlow:"column nowrap"}},a.createElement(X,{ref:this.screen}),a.createElement("div",{dataid:"status",style:{whiteSpace:"pre",maxWidth:"200px",overflow:"auto"},ref:this.status},"No status")),a.createElement("div",{className:(0,L.Z)(G)},a.createElement($,{action:"run",onClick:function(){return n.runCode()},ref:this.runButton,disabled:this.state.isRunning},"Run"),a.createElement($,{action:"stop",ref:this.stopButton,onClick:function(){return n.stopCode()},disabled:!this.state.isRunning},"Stop"),a.createElement($,{key:"21",onClick:function(){return n.onCalcButtonDown(21)}},"2nd"),a.createElement($,{key:"22",onClick:function(){return n.onCalcButtonDown(22)}},"Mode (Quit)"),a.createElement($,{key:"105",onClick:function(){return n.onCalcButtonDown(105)}},"Enter"),a.createElement($,{key:"95",onClick:function(){return n.onCalcButtonDown(95)}},"+"),a.createElement($,{key:"85",onClick:function(){return n.onCalcButtonDown(85)}},"-"),a.createElement($,{key:"102",onClick:function(){return n.onCalcButtonDown(102)}},"0"),a.createElement($,{key:"25",onClick:function(){return n.onCalcButtonDown(25)}},"Up"),a.createElement($,{key:"34",onClick:function(){return n.onCalcButtonDown(34)}},"Down")))))}catch(t){return a.createElement("div",null,"Error: "+t)}},t.getCode=function(){return this.thecode},t.onCalcButtonDown=function(n){this.tiContext.SetKey(+n)},t.componentDidMount=function(){try{this.attachContext(),console.log("Context is"),console.log(this.tiContext),this.tiContext.randomizeScreen()}catch(n){console.error("Error mounting component: "+n)}},t.runCode=function(){var n=this.getCode();this.tiContext.SetCode(n),this.setState({isRunning:!0}),this.currentlyRunning=g.Run(this.tiContext);var e=this;this.currentlyRunning.then((function(){e.onRunFinished()})).catch((function(n){throw e.onRunFinished(),n}))},t.attachContext=function(){null==this.tiContext&&(this.tiContext=new tn(this))},t.onRunFinished=function(){this.setState({isRunning:!1})},t.stopCode=function(){this.tiContext.Break()},e}(a.Component);en.contextType=U.Z;var tn=function(n){function e(e){var t;return(t=n.call(this)||this).gadget=e,t.screen=t.gadget.screen.current,console.log("Screen:"),console.log(t.screen),t.screenHeight=t.screen.getScreenHeight(),t}(0,u.Z)(e,n);var t=e.prototype;return t.ClrHome=function(){this.screen.setState((function(){return{grid:H().times(8,(function(){return new Array(16).fill(" ")}))}})),this.nextDisplayLine=0},t.Output=function(n,e,t){var o=n-1,r=e-1,a=0;this.screen.setState((function(n,e){for(var i=n.grid.map((function(n){return[].concat(n)}));o<i.length&&a<t.length;){for(;r<i[0].length&&a<t.length;)i[o][r]=t[a],a++,r++;o++,r=0}return{grid:i}}))},t.GetKey=function(){var n=this.key;return this.key=0,n},t.SetKey=function(n){this.key=n},t.MoveScreenUp=function(){this.screen.setState((function(n,e){for(var t=n.grid.map((function(n){return[].concat(n)})),o=0;o<t.length-1;o++)for(var r=0;r<t[o].length;r++)t[o][r]=t[o+1][r];for(var a=t.length-1;a<t.length;a++)for(var i=0;i<t[a].length;i++)t[a][i]=" ";return{grid:t}}))},t.SetStatus=function(n){this.gadget.status.current.innerText=n},t.randomizeScreen=function(){console.log("Randomizing screen...");var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ                  ";this.screen.setState((function(e,t){for(var o=e.grid.map((function(n){return[].concat(n)})),r=0;r<o.length;r++)for(var a=0;a<o[r].length;a++){var i=Math.floor(Math.random()*n.length);o[r][a]=n[i]}return console.log("Randomized screen"),console.log("Grid will become"),console.log(o),console.log("Original grid:"),console.log(e.grid),{grid:o}}))},e}(m),on={yellow:"hsl(54, 90%, 50%)",lightblue:"hsl(189, 90%, 50%)",lightgreen:"hsl(90, 90%, 50%)",darkgreen:"hsl(122, 90%, 20%)",orange:"hsl(31, 90%, 50%)",blue:"hsl(207, 90%, 50%)",darkblue:"darkblue"};function rn(n){var e,t,o,r=n.code;for("\n"==(r=r.replace("\r\n","\n").replace("\r",""))[0]&&(r=r.substring(1));" "==r[r.length-1];)r=r.substring(0,r.length-1);for(;"\n"==r[r.length-1];)r=r.substring(0,r.length-1);var i=null!=(e=n.metastring)?e:"",l=null!=(t=n.collapsed)?t:null!=i.match(/(^| )collapsed( |=true( |$)|$)/),s=(0,a.useContext)(U.Z),u=(0,a.useState)(null!=(o=n.collapsed)?o:l),p=u[0],d=u[1],h=s.isDarkTheme?V.Z:q.Z,m=[],f=function(n){for(var e,t=(0,c.Z)(m);!(e=t()).done;){var o=e.value;if(n>=o.begin&&n<o.end)return o.color}return"hsla(0, 100%, 50%, 0%)"},g=null;switch(n.mode||"linear"){case"linear":var E=an(r,m);!function(n,e){for(var t,o=e,r=(0,c.Z)(n);!(t=r()).done;){var a=t.value;a.name in o?a.color=o[a.name]:(a.color in on&&(a.color=on[a.color]),o[a.name]=a.color)}}(m,{});var k=0;g=a.createElement("div",null,E.map((function(n){var e={borderLeft:"4px solid "+f(k+=1)};return a.createElement("span",{dataDisplayline:k,key:k,className:(0,L.Z)(B),style:e,dangerouslySetInnerHTML:{__html:n}})})))}return a.createElement("div",{className:(0,L.Z)(x),style:h.plain},a.createElement("button",{type:"button",className:(0,L.Z)(I,p&&S,T),onClick:function(){d(!p)}},p?"Show code":"Hide code"),a.createElement("div",{className:(0,L.Z)(R)},!p&&g,p&&a.createElement("span",{style:{fontStyle:"italic"}},"Code collapsed")))}function an(n,e){var t=[];null==e&&(e=[]);for(var o,r=n.split("\n"),a=r[0].length-r[0].trimStart().length,i=(0,c.Z)(n.split("\n"));!(o=i()).done;){var l=o.value;if((l=l.substring(a)).startsWith(" ")&&(l="&nbsp;"+l.substring(1)),null!=(l=ln(l,e,t.length+1))){var s=l;s+="<br/>",t.push(s)}}return t}function ln(n,e,t){var o=n.indexOf("#"),r="";return-1!=o&&(r=n.substring(o+1),n=n.substring(0,o),r.startsWith("#")&&(n=null,r=r.substring(1)),function(n,e,t){var o=(0,l.Z)(/^MARK ("((?:(?!")[\s\S])*)"( |$))?([\*\x2D0-9A-Z_a-z]+)$/,{name:2,color:4}),r=n.match(o);if(null!=r){var a=r.groups.name,i=r.groups.color;return void e.push({name:a,color:i,begin:t,end:t+1})}var s=(0,l.Z)(/^BEGIN ("((?:(?!")[\s\S])*)"( |$))?([\*\x2D0-9A-Z_a-z]+)$/,{name:2,color:4});if(null!=(r=n.match(s))){var u=r.groups.name,p=r.groups.color;return void e.push({name:u,color:p,begin:t,end:1/0})}var d=(0,l.Z)(/^END "((?:(?!")[\s\S])*)"$/,{name:1});if(null!=(r=n.match(d))){for(var h,m=r.groups.name,f=null,g=(0,c.Z)(e);!(h=g()).done;){var E=h.value;if(E.name==m){f=E;break}}return void(null!=f&&(f.end=t))}console.log("Comment ignored")}(r=r.trimStart(),e,t)),n}on.null="purple";var sn=function(n){var e,t,o,r=n.children,i=n.className.replace(/language-/,""),u=r;if(u.endsWith("\n")&&(u=u.slice(0,u.length-1)),"ti-basic"!==i.toLowerCase())return(0,s.Z)(n);var c=null!=(e=null==(t=n.metastring.match((0,l.Z)(/(^| )title="((\\\\|\\"|(?:(?!["\\])[\s\S]))*?)"( |$)/,{title:2})))||null==(o=t.groups)?void 0:o.title)?e:"";return c=(c=c.replace(/\\\"/g,'"')).replace(/\\\\/g,"\\"),null!=n.metastring.match(/(^| )tryit( |=true( |$)|$)/)?a.createElement(en,{code:u,title:c}):a.createElement(rn,{code:u,title:c,metastring:n.metastring})},un=["components"],cn={title:"Functions in TI-BASIC: Challenge accepted",author:"Vincent Kuhlmann",slug:"functions-in-ti-basic",author_url:"https://github.com/vkuhlmann",author_image_url:"/img/VK.png",tags:["ti","ti-basic","functions","calculator","programming"]},pn=void 0,dn={permalink:"/blog/functions-in-ti-basic",source:"@site/blog/2021-04-17-functions-in-ti-basic.md",title:"Functions in TI-BASIC: Challenge accepted",description:"At high school, I loved to toy around with my TI-84 Plus calculator. It was the",date:"2021-04-17T00:00:00.000Z",formattedDate:"April 17, 2021",tags:[{label:"ti",permalink:"/blog/tags/ti"},{label:"ti-basic",permalink:"/blog/tags/ti-basic"},{label:"functions",permalink:"/blog/tags/functions"},{label:"calculator",permalink:"/blog/tags/calculator"},{label:"programming",permalink:"/blog/tags/programming"}],readingTime:14.185,truncated:!0,nextItem:{title:"Showing LaTeX in LaTeX: The good, the bad and the ugly",permalink:"/blog/showing-latex"}},hn=[{value:"Functions: The need",id:"functions-the-need",children:[]},{value:"Solution 0: Everything in a separate program?",id:"solution-0-everything-in-a-separate-program",children:[]},{value:"Solution 1: A state machine",id:"solution-1-a-state-machine",children:[]},{value:"Solution 2: A redirection center",id:"solution-2-a-redirection-center",children:[{value:"The code",id:"the-code",children:[]},{value:"Function call",id:"function-call",children:[]},{value:"Dynamic Goto&#39;s",id:"dynamic-gotos",children:[]},{value:"Nesting",id:"nesting",children:[]}]},{value:"Solution 3: Abusing the call stack",id:"solution-3-abusing-the-call-stack",children:[{value:"The trick",id:"the-trick",children:[]},{value:"The code",id:"the-code-1",children:[]}]}],mn={toc:hn},fn=function(n){var e=n.children,t=n.props;return(0,i.kt)(i.Zo,{components:{code:sn,pre:function(n){return(0,i.kt)("div",n)}}},(0,i.kt)("main",t,e))};function gn(n){var e=n.components,t=(0,r.Z)(n,un);return(0,i.kt)(fn,(0,o.Z)({},mn,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"At high school, I loved to toy around with my TI-84 Plus calculator. It was the\nmost techy thing you were allowed to use during school hours. It featured a very\nstupid (read: challenging) programming language: TI-BASIC. I made a wild host of\nprograms on it, like a program to count down to the end of class, and a\ntext-to-morse converter."),(0,i.kt)("p",null,"In this article, I want to focus on one hurdle, and how I solved it: functions."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'tryit=true title="A try-it of the \\"program\\" in Solution 1"',tryit:"true",title:'"A',"try-it":!0,of:!0,the:!0,'\\"program\\"':!0,in:!0,Solution:!0,'1"':!0},'## BEGIN "setup" yellow\n  ClrHome\n\n  0\u2192K\n  1\u2192S\n  1\u2192N\n  1\u2192J\n  {0,0,0,0,0,0}\u2192\u230aCOUNT\n## END "setup"\n\n## BEGIN "beginLoop" lightblue\n  While K\u226022 and K\u226045\n## END "beginLoop"\n\n## BEGIN "drawCountLines" lightgreen\n  0\u2192C\n  For(I,1,N)\n  C+\u230aCOUNT(I)\u2192C\n  If I=J and S=0\n  Then\n  Output(I,1,">")\n  Else\n  Output(I,1," ")\n  End\n  Output(I,2,"COUNT:")\n  Output(I,9,"    ")\n  Output(I,9,\u230aCOUNT(I))\n  End\n## END "drawCountLines"\n## BEGIN "drawFurther" darkgreen\n  Output(7,1,"AVG:")\n  Output(7,9,"        ")\n  Output(7,9,round(C/N,2))\n\n  If S=1\n  Then\n  Output(8,1,"COUNTERS:")\n  Output(8,11,N)\n  Else\n  Output(8,1,"           ")\n  End\n## END "drawFurther"\n\n## BEGIN "waitForKey" orange\n  0\u2192K\n  While K=0\n  getKey\u2192K\n  End\n## END "waitForKey"\n\n## BEGIN "handleKey_Setup" blue\n  If S=1\n  Then\n\n  If K=95\n  Then\n  min(N+1,dim(\u230aCOUNT))\u2192N\n  0\u2192\u230aCOUNT(N)\n  0\u2192K\n  End\n\n  If K=85\n  Then\n  max(1,N-1)\u2192N\n  min(N,J)\u2192J\n  ClrHome\n  0\u2192K\n  End\n\n  If K=21\n  Then\n  0\u2192S\n  0\u2192K\n  End\n\n  End\n## END "handleKey_Setup"\n\n## BEGIN "handleKey_Normal" darkblue\n  If K=21\n  Then\n  1\u2192S\n  End\n\n  If K=102\n  Then\n  0\u2192\u230aCOUNT(J)\n  End\n\n  If K=95 or K=85\n  Then\n  \u230aCOUNT(J)-1+2*(K=95)\u2192\u230aCOUNT(J)\n  End\n\n  If K=34\n  Then\n  remainder(J,N)+1\u2192J\n  End\n\n  If K=25\n  Then\n  remainder(J+N-2,N)+1\u2192J\n  End\n## END "handleKey_Normal"\n\n## BEGIN "endLoop" lightblue\n  End\n## END "endLoop"\nClrHome\n')),(0,i.kt)("p",null,"In this post:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#functions-the-need"},"Functions: The need")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#solution-0-everything-in-a-separate-program"},"Solution 0: Everything in a separate program?")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#solution-1-a-state-machine"},"Solution 1: A state machine")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#solution-2-a-redirection-center"},"Solution 2: A redirection center")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#solution-3-abusing-the-call-stack"},"Solution 3: Abusing the call stack"))),(0,i.kt)("div",{style:{display:"flex",flexFlow:"column nowrap",gap:"10px",borderTop:"3px solid black",borderBottom:"3px solid black",paddingTop:"10px",paddingBottom:"10px"}},(0,i.kt)("div",{style:{display:"flex",width:"100%",flexFlow:"row wrap",gap:"30px"}},(0,i.kt)("div",{style:{flex:"1 1 200px"}},(0,i.kt)("img",{src:"/img/calculator/calculator_countdown_minutes.jpg",alt:"CNTDWN <3",style:{width:"100%"}})),(0,i.kt)("div",{style:{flex:"1 1 200px"}},(0,i.kt)("img",{src:"/img/calculator/calculator_countdown_seconds.jpg",alt:"CNTDWN <3",style:{width:"100%"}}))),(0,i.kt)("div",{style:{fontSize:"120%"}},"Figure 1: Photo of 'count-down-to-end-of-class'-program running.")),(0,i.kt)("h2",{id:"functions-the-need"},"Functions: The need"),(0,i.kt)("p",null,"Functions are pieces of code that can be called from anywhere in the program.\nFor example, to redraw the screen after having processed a keystroke. They are\nthe bread and butter of all popular programming languages, but in TI-BASIC, they\ndon't exist. Sure, there are of course the primitive functions to instruct the\ncalculator to do things like clear the screen, but no ability to define a\nfunction yourself. From worst to best, what are the solutions?"),(0,i.kt)("h2",{id:"solution-0-everything-in-a-separate-program"},"Solution 0: Everything in a separate program?"),(0,i.kt)("p",null,"From within a program, you can call other programs. Even before getting to know\nany caviats, for me there's a giant dealbreaker: a huge amount of programs. Even\nwith my self-contained programs, I have a long list of programs, and if each\nwould be split up in say four parts, that would be very unmanagable. Also, if\nyou need to distribute your program, that isn't very user friendly either. A\nself-contained program is definitely my go-to."),(0,i.kt)("h2",{id:"solution-1-a-state-machine"},"Solution 1: A state machine"),(0,i.kt)("p",null,"In this method, you create a while-loop spanning the whole program. Suppose you\nwant to enter a 'setup' menu, then we change a variable 'S' from '0' to '1'.\nWhen a key is pressed, you subsequently check if the mode is '0' (normal) or '1'\n(setup), and handle the press accordingly. Do we want to leave 'setup' mode?\nThen set ",(0,i.kt)("inlineCode",{parentName:"p"},"S=0")," and the next iteration of the while-loop takes care of it."),(0,i.kt)("p",null,"I've added a simple demonstration program below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'title="" overwide collapsed mode="blocks"',title:'""',overwide:!0,collapsed:!0,mode:'"blocks"'},'## BEGIN "setup" yellow\n    ClrHome\n\n    0\u2192K\n    1\u2192S\n    1\u2192N\n    1\u2192J\n    {0,0,0,0,0,0}\u2192\u230aCOUNT\n## END "setup"\n\n## BEGIN "beginLoop" lightblue\n    While K\u226022 and K\u226045\n## END "beginLoop"\n\n## BEGIN "drawCountLines" lightgreen\n    0\u2192C\n    For(I,1,N)\n    C+\u230aCOUNT(I)\u2192C\n    If I=J and S=0\n    Then\n    Output(I,1,"&gt;")\n    Else\n    Output(I,1," ")\n    End\n    Output(I,2,"COUNT:")\n    Output(I,9,"    ")\n    Output(I,9,\u230aCOUNT(I))\n    End\n## END "drawCountLines"\n## BEGIN "drawFurther" darkgreen\n    Output(7,1,"AVG:")\n    Output(7,9,"        ")\n    Output(7,9,round(C/N,2))\n\n    If S=1\n    Then\n    Output(8,1,"COUNTERS:")\n    Output(8,11,N)\n    Else\n    Output(8,1,"           ")\n    End\n## END "drawFurther"\n\n## BEGIN "waitForKey" orange\n    0\u2192K\n    While K=0\n    getKey\u2192K\n    End\n## END "waitForKey"\n\n## BEGIN "handleKey_Setup" blue\n    If S=1\n    Then\n\n    If K=95\n    Then\n    min(N+1,dim(\u230aCOUNT))\u2192N\n    0\u2192\u230aCOUNT(N)\n    0\u2192K\n    End\n\n    If K=85\n    Then\n    max(1,N-1)\u2192N\n    min(N,J)\u2192J\n    ClrHome\n    0\u2192K\n    End\n\n    If K=21\n    Then\n    0\u2192S\n    0\u2192K\n    End\n\n    End\n## END "handleKey_Setup"\n\n## BEGIN "handleKey_Normal" darkblue\n    If K=21\n    Then\n    1\u2192S\n    End\n\n    If K=102\n    Then\n    0\u2192\u230aCOUNT(J)\n    End\n\n    If K=95 or K=85\n    Then\n    \u230aCOUNT(J)-1+2*(K=95)\u2192\u230aCOUNT(J)\n    End\n\n    If K=34\n    Then\n    remainder(J,N)+1\u2192J\n    End\n\n    If K=25\n    Then\n    remainder(J+N-2,N)+1\u2192J\n    End\n## END "handleKey_Normal"\n\n## BEGIN "endLoop" lightblue\n    End\n## END "endLoop"\nClrHome\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'minimal mode="linear"',minimal:!0,mode:'"linear"'},'[Pseudocode]\nSetup # MARK "setup" yellow\nBeginLoop # MARK "beginLoop" lightblue\n  DrawCounts # MARK "drawCountLines" lightgreen\n  DrawAvg # BEGIN "drawFurther" darkgreen\n  DrawSetupUI\n  ## END "drawFurther"\n  AwaitKey # MARK "waitForKey" orange\n  HandleKey_Setup # MARK "handleKey_Setup" blue\n  HandleKey_Normal # MARK "handleKey_Normal" darkblue\nEndLoop # MARK "endLoop" lightblue\n')),(0,i.kt)("p",null,"This demonstrates a simple program where we have a number of counters. Each\ncounter can be incremented by pressing the '+'-button (key 95, line 90). We\ncan also reset a counter by pressing '0' (key 102, line 85). There are\nmultiple counters, and we can navigate between them using the arrows (line\n97)."),(0,i.kt)("p",null,"Additionally, there is a 'setup' mode, in which we can increase and decrease\nthe amount of counters. This mode is entered and leaved by pressing '2nd' (key\n21)."),(0,i.kt)("h2",{id:"solution-2-a-redirection-center"},"Solution 2: A redirection center"),(0,i.kt)("p",null,"We don't need to do one big while-loop. TI-BASIC features a ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Lbl"),"\nstatement. A ",(0,i.kt)("inlineCode",{parentName:"p"},"Lbl")," is succeeded with one or two characters, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"Lbl A9"),". Then,\nfrom anywhere in your program (before or after), use a ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto")," statement with\nthe same pair, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto A9"),". The program jumps to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto")," line and runs\nthe lines following it."),(0,i.kt)("h3",{id:"the-code"},"The code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="blocks" overwide collapsed',mode:'"blocks"',overwide:!0,collapsed:!0},'ClrHome\n\n"MIT 2021 VINCENT KUHLMANN"\n0\u2192K\n1\u2192N\n1\u2192J\n{0,0,0,0,0,0}\u2192\u230aCOUNT\n{\xad-1}\u2192\u230aRED\nGoto 20\n\n:::::::::\n\n"AWAITKEY"\nLbl 01\n0\u2192K\nWhile K=0\ngetKey\u2192K\nEnd\nIf K=22 or K=45\nGoto 99\nGoto RE\n:::::::::\n\n\n\n"NORMAL"\nLbl 10\n0\u2192S\n\n11\u2192R\n15\u2192T\nGoto RE\nLbl 11\n\n12\u2192R\n01\u2192T\nGoto RE\nLbl 12\n\nIf K=21\nThen\nGoto 20\nEnd\n\nIf K=102\nThen\n0\u2192\u230aCOUNT(J)\nEnd\n\nIf K=95 or K=85\nThen\n\u230aCOUNT(J)-1+2*(K=95)\u2192\u230aCOUNT(J)\nEnd\n\nIf K=34\nThen\nremainder(J,N)+1\u2192J\nEnd\n\nIf K=25\nThen\nremainder(J+N-2,N)+1\u2192J\nEnd\n\nGoto 10\n:::::::::\n\n\n\n\n"DRAW"\nLbl 15\n\n0\u2192C\nFor(I,1,N)\nC+\u230aCOUNT(I)\u2192C\nIf I=J and S=0\nThen\nOutput(I,1,"&gt;")\nElse\nOutput(I,1," ")\nEnd\nOutput(I,2,"COUNT:")\nOutput(I,9,"    ")\nOutput(I,9,\u230aCOUNT(I))\nEnd\nOutput(7,1,"AVG:")\nOutput(7,9,"        ")\nOutput(7,9,round(C/N,2))\n\nIf S=1\nThen\nOutput(8,1,"COUNTERS:")\nOutput(8,11,N)\nElse\nOutput(8,1,"           ")\nEnd\nGoto RE\n:::::::::\n\n\n\n"SETUP"\nLbl 20\n1\u2192S\n\n21\u2192R\n15\u2192T\nGoto RE\nLbl 21\n\n22\u2192R\n01\u2192T\nGoto RE\nLbl 22\n\nIf K=95\nThen\nmin(N+1,dim(\u230aCOUNT))\u2192N\n0\u2192\u230aCOUNT(N)\n0\u2192K\nEnd\n\nIf K=85\nThen\nmax(1,N-1)\u2192N\nmin(N,J)\u2192J\nClrHome\n0\u2192K\nEnd\n\nIf K=21\nThen\nGoto 10\nEnd\n\nGoto 20\n:::::::::\n\n\n\n\n\n"REDIRECT"\nLbl RE\nIf R=-\xad1\nThen\n\u230aRED(dim(\u230aRED))\u2192T\ndim(\u230aRED)-1\u2192dim(\u230aRED)\n\nElse\n\nR\u2192\u230aRED(dim(\u230aRED)+1)\n\xad1\u2192R\nEnd\n\nIf T=01\nGoto 01\n\nIf T=11\nGoto 11\nIf T=12\nGoto 12\nIf T=13\nGoto 13\nIf T=15\nGoto 15\n\nIf T=21\nGoto 21\nIf T=22\nGoto 22\nIf T=23\nGoto 23\n\nLbl 99\nClrHome\n')),(0,i.kt)("p",null,"Sure, this program is longer and a bit slower than its Solution 1 equivalent,\nbut the investment has a return: we have a clear separation of the different\nparts in our code, and can call between them however we like. I've gone to the\nextremes by even giving each segment a name by ways of a loose string. ",(0,i.kt)("strong",{parentName:"p"},"[1]")),(0,i.kt)("p",null,"The segmentation fulfills an extra role when programming on your calculator:\nmoving code around is very difficult. If instead, you only need to reorder the\nfunction calls, in my opinion, this is a win. The extra colons are also\ndiscarded, they are just for code clarity."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"[1]"),": Simply evaluating an expression without using its value is valid. It's\nvalue is stored in ",(0,i.kt)("inlineCode",{parentName:"p"},"Ans"),". If it's the last statement of your program, the value\nwill be printed as a sort of 'result' of your program."),(0,i.kt)("h3",{id:"function-call"},"Function call"),(0,i.kt)("p",null,"Take a look at the ",(0,i.kt)("inlineCode",{parentName:"p"},'"NORMAL"')," segment. It's code is basically"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="linear"',mode:'"linear"'},'"NORMAL"\nLbl 10\n0\u2192S\n\n11\u2192R\n15\u2192T\nGoto RE\nLbl 11\n\n12\u2192R\n01\u2192T\nGoto RE\nLbl 12\n\n(Key handling)\nGoto 10\n')),(0,i.kt)("p",null,"Note the ",(0,i.kt)("inlineCode",{parentName:"p"},"Lbl 10")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto 10")," themselves generate a while-loop. The ",(0,i.kt)("inlineCode",{parentName:"p"},"S=0")," is\nnecessary for the ",(0,i.kt)("inlineCode",{parentName:"p"},'"DRAW"'),"-segment, which will now be called. The following\nfour non-empty lines are the 'function call' of this solution. I set 'T' to the\nlabel where we want to go, and set 'R' to where we need to come back after.\nSetting ",(0,i.kt)("inlineCode",{parentName:"p"},"T=15"),", means we will call the ",(0,i.kt)("inlineCode",{parentName:"p"},'"DRAW"'),"-segment. When the draw is done,\nwe need to return to our calling code. For this we place a label ",(0,i.kt)("inlineCode",{parentName:"p"},"Lbl 11")," at the\nend of our function call, and with ",(0,i.kt)("inlineCode",{parentName:"p"},"R=11")," we need to indicate this. Next, we\njump to ",(0,i.kt)("inlineCode",{parentName:"p"},"RE"),". This is what I call 'the redirection center'. And that's our\nfunction call complete! We repeat the same again to call ",(0,i.kt)("inlineCode",{parentName:"p"},'"AWAITKEY"'),"."),(0,i.kt)("p",null,"Yes, I agree, this is bulky. But hey, when coding in TI-BASIC, bulkiness is the\nname of the game. In return, we are now able to clearly split up our code, and\ncall it from multiple places, like the ",(0,i.kt)("inlineCode",{parentName:"p"},'"AWAITKEY"'),"-segment. After the call is\ncompleted, we just resume where we left of."),(0,i.kt)("h3",{id:"dynamic-gotos"},"Dynamic Goto's"),(0,i.kt)("p",null,"Ok, so what's the idea of a redirection center? The unfortunate thing of\n",(0,i.kt)("inlineCode",{parentName:"p"},"Goto"),"'s is its destination has to be hardcoded. Hence for each possible return\ndestination we have a ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto"),", and with ",(0,i.kt)("inlineCode",{parentName:"p"},"If"),"-statements, we select the right one.\nLines 178 through 195 do this. We do this in one place, which I've been calling\nthe 'redirection center'. In the previous example, we had set ",(0,i.kt)("inlineCode",{parentName:"p"},"R=11"),", and upon\nreturning from the call, we use ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto RE")," to jump to the redirection center, and\nit will execute the ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto 11")," line."),(0,i.kt)("p",null,"With this, the essence is"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="linear"',mode:'"linear"'},'Disp "A"\n\n11\u2192R\nGoto 15\nLbl 11\n\nDisp "B"\nStop\n\n:::\n\nLbl 15\nDisp "C"\n\nGoto RE\n\n:::\n\nLbl RE\n\nIf R=11\nGoto 11\nIf R=12\nGoto 12\n\nDisp "E"\n')),(0,i.kt)("p",null,"This outputs ",(0,i.kt)("inlineCode",{parentName:"p"},"ACDB"),". Note we aren't using any ",(0,i.kt)("inlineCode",{parentName:"p"},"Lbl 12")," yet, so ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto 12")," isn't\nvalid. But as long as we don't set ",(0,i.kt)("inlineCode",{parentName:"p"},"R=12"),", the program won't notice it."),(0,i.kt)("h3",{id:"nesting"},"Nesting"),(0,i.kt)("p",null,"The code fragment from ",(0,i.kt)("em",{parentName:"p"},"Dynamic Goto's")," doesn't allow function nesting. In the\nsection ",(0,i.kt)("em",{parentName:"p"},"Function call")," we showed a slightly different function call code which\ndoes allow for nesting, and that also requires some extra code in the\nredirection center."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="linear"',mode:'"linear"'},'"REDIRECT"\nLbl RE\nIf R=-\xad1\nThen\n\u230aRED(dim(\u230aRED))\u2192T\ndim(\u230aRED)-1\u2192dim(\u230aRED)\n\nElse\n\nR\u2192\u230aRED(dim(\u230aRED)+1)\n\xad-1\u2192R\nEnd\n\n(Goto statements)\n')),(0,i.kt)("p",null,"We use a new list ",(0,i.kt)("inlineCode",{parentName:"p"},"RED")," to keep track of the places we will to return to. At\nthe start of your program set ",(0,i.kt)("inlineCode",{parentName:"p"},"{\xad-1}\u2192\u230aRED")," to create the list."),(0,i.kt)("p",null,"If we get ",(0,i.kt)("inlineCode",{parentName:"p"},"R")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"T")," specified, we add ",(0,i.kt)("inlineCode",{parentName:"p"},"R")," to the list. We then set ",(0,i.kt)("inlineCode",{parentName:"p"},"R=-1")," so\nif we consequently jump to ",(0,i.kt)("inlineCode",{parentName:"p"},"RE")," for the end of the function, still ",(0,i.kt)("inlineCode",{parentName:"p"},"R=-1"),", and\nwe know we are leaving a function instead of entering one. The goto statements\nwill then select the segment ",(0,i.kt)("inlineCode",{parentName:"p"},"T")," refers to."),(0,i.kt)("p",null,"If we haven't set ",(0,i.kt)("inlineCode",{parentName:"p"},"R")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"T")," before jumping to ",(0,i.kt)("inlineCode",{parentName:"p"},"RE"),", then ",(0,i.kt)("inlineCode",{parentName:"p"},"R=-1"),". In that case,\nwe need to return to the last caller return. For this, we set the target ",(0,i.kt)("inlineCode",{parentName:"p"},"T")," to\nthe last element of the list, and shrink the list so the last element is\nremoved. The goto statements then jump to that old caller."),(0,i.kt)("h2",{id:"solution-3-abusing-the-call-stack"},"Solution 3: Abusing the call stack"),(0,i.kt)("h3",{id:"the-trick"},"The trick"),(0,i.kt)("p",null,"Let me tell you something: when you don't close a scope with ",(0,i.kt)("inlineCode",{parentName:"p"},"End"),", you won't\nget any complaints: it's as if those are added at the very end of your program\nimplicitly. Ok, something for when you're very lazy, right? Well, not quite.\nWithout it, our program in Solution 2 would have gotten those errors when trying\nto quit."),(0,i.kt)("p",null,"And there is even an obscure way that could let our program crash. An example\nwhich could do the crash more easily:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="blocks"',mode:'"blocks"'},"ClrHome\nLbl 1A\n\nstartTmr\u2192T\nIf remainder(T,2)=0\nThen\nGoto 1B\nElse\nGoto 1A\nEnd\n\nLbl 1B\nOutput(1,1,T)\nGoto 1A\n")),(0,i.kt)("p",null,"A little program which displays even times on screen. The output is done in the\n",(0,i.kt)("inlineCode",{parentName:"p"},"1B")," segment. But this unsuspecting program crashes with error ERR:MEMORY. In\nfact, it's a stackoverflow. It might be more instructive to imagine a\n",(0,i.kt)("inlineCode",{parentName:"p"},"While"),"-loop instead of an ",(0,i.kt)("inlineCode",{parentName:"p"},"If"),"-block. If I write"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="linear"',mode:'"linear"'},"ClrHome\nWhile 1\nOutput(1,1,startTmr)\nEnd\n")),(0,i.kt)("p",null,"then at each encounter of ",(0,i.kt)("inlineCode",{parentName:"p"},"End"),", it needs to jump back to the start of the\n",(0,i.kt)("inlineCode",{parentName:"p"},"While"),"-loop. Hence, the calculator remembers what block we are in. However,\nwhen we use ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto"),", this stack is preserved! In the main fragment, it is to the\ncalculator as if we are opening an infinite amount of ",(0,i.kt)("inlineCode",{parentName:"p"},"If")," blocks, without ever\nhaving closed one!"),(0,i.kt)("p",null,"This finding is our superhero in the quest for functions in TI-BASIC. Because,\nif a ",(0,i.kt)("inlineCode",{parentName:"p"},"While"),"-, ",(0,i.kt)("inlineCode",{parentName:"p"},"For"),"- or ",(0,i.kt)("inlineCode",{parentName:"p"},"Repeat"),"-loop is open, encountering an ",(0,i.kt)("inlineCode",{parentName:"p"},"End")," can return\nexecution to the start of the loop. This is done if the loops condition allows\na next iteration."),(0,i.kt)("p",null,"The strategy: we use ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto")," while a loop is open, the called segment finishes\nwith an extra ",(0,i.kt)("inlineCode",{parentName:"p"},"End"),", which is matched against the open loop. Then, the loop\nneeds to be run another time, but of course without the ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto")," being called\na second time. This translates to the following scheme:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'mode="linear" minimal',mode:'"linear"',minimal:!0},'Disp "A"\n\n## BEGIN "funcCall" blue\nFor(H,-\xad1,0\nIf H:Goto 15\nEnd:-\xad1\u2192H\n## END "funcCall"\n\nDisp "B"\nStop\n\nLbl 15\nDisp "C"\n:End\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:"tryit=true",tryit:"true"},'ClrHome\nDisp "A"\n\n## BEGIN "funcCall" blue\nFor(H,-\xad1,0\nIf H:Goto 15\nEnd:-\xad1\u2192H\n## END "funcCall"\n\nDisp "B"\nStop\n\nLbl 15\nDisp "C"\n:End\n')),(0,i.kt)("p",null,"This outputs ",(0,i.kt)("inlineCode",{parentName:"p"},"ACB"),". The variable ",(0,i.kt)("inlineCode",{parentName:"p"},"H")," is chosen as it is a 'hook' in some way.\nAt the first iteration, ",(0,i.kt)("inlineCode",{parentName:"p"},"H=-1"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"If")," evaluates for any non-zero value. At\nthe second iteration, ",(0,i.kt)("inlineCode",{parentName:"p"},"H=0"),", and the ",(0,i.kt)("inlineCode",{parentName:"p"},"Goto")," won't be evaluated. Next ",(0,i.kt)("inlineCode",{parentName:"p"},"H=1"),", and\nthis breaks the ",(0,i.kt)("inlineCode",{parentName:"p"},"For"),"-loop. Finally, we need to set ",(0,i.kt)("inlineCode",{parentName:"p"},"H=-1")," again, because of\nnesting: if we now encounter the ",(0,i.kt)("inlineCode",{parentName:"p"},"End")," to return to a call from higher up,\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"H=1")," will be incremented to ",(0,i.kt)("inlineCode",{parentName:"p"},"H=2"),", but that is higher than the ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," the\n",(0,i.kt)("inlineCode",{parentName:"p"},"For"),"-loop requires. Hence it will not iterate that one, and our whole scheme\nis broken. Therefore, you should always set ",(0,i.kt)("inlineCode",{parentName:"p"},"H=-1")," again after a function call\nhas been performed."),(0,i.kt)("p",null,"Colons mean a separation of statements, that's also why the calculator renders\neach new line with a preceding colon. You can add extra colons, doing so adds an\nempty statement (like an empty line), so in most places this can be done purely\naesthetically. This is what I do to indicate the 'special' ",(0,i.kt)("inlineCode",{parentName:"p"},"End"),"'s; the ",(0,i.kt)("inlineCode",{parentName:"p"},":End"),"\ndoesn't have a matching block begin above, it is there to return to our call\nhook."),(0,i.kt)("h3",{id:"the-code-1"},"The code"),(0,i.kt)("p",null,"Now our program can be written as"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:"overwide collapsed",overwide:!0,collapsed:!0},'ClrHome\n\n"MIT 2021 VINCENT KUHLMANN"\n0\u2192K\n1\u2192N\n1\u2192J\n{0,0,0,0,0,0}\u2192\u230aCOUNT\nGoto 20\n\n:::::::::\n\n\n"AWAITKEY"\nLbl 01\n0\u2192K\nWhile K=0\ngetKey\u2192K\nEnd\nIf K=22 or K=45\nGoto 99\n:End\n:::::::::\n\n\n\n"NORMAL"\nLbl 10\n0\u2192S\n\n## BEGIN "funcCall1" blue\nFor(H,\xad-1,0\nIf H:Goto 15\nEnd:\xad-1\u2192H\n## END "funcCall1"\n\n## BEGIN "funcCall2" blue\nFor(H,\xad-1,0\nIf H:Goto 01\nEnd:\xad-1\u2192H\n## END "funcCall2"\n\nIf K=21\nGoto 20\n\n\nIf K=102\nThen\n0\u2192\u230aCOUNT(J)\nEnd\n\nIf K=95 or K=85\nThen\n\u230aCOUNT(J)-1+2*(K=95)\u2192\u230aCOUNT(J)\nEnd\n\nIf K=34\nThen\nremainder(J,N)+1\u2192J\nEnd\n\nIf K=25\nThen\nremainder(J+N-2,N)+1\u2192J\nEnd\n\nGoto 10\n:::::::::\n"DRAW"\nLbl 15\n\n0\u2192C\nFor(I,1,N)\nC+\u230aCOUNT(I)\u2192C\nIf I=J and S=0\nThen\nOutput(I,1,">")\nElse\nOutput(I,1," ")\nEnd\nOutput(I,2,"COUNT:")\nOutput(I,9,"    ")\nOutput(I,9,\u230aCOUNT(I))\nEnd\nOutput(7,1,"AVG:")\nOutput(7,9,"        ")\nOutput(7,9,round(C/N,2))\n\nIf S=1\nThen\nOutput(8,1,"COUNTERS:")\nOutput(8,11,N)\nElse\nOutput(8,1,"           ")\nEnd\n:End\n:::::::::\n\n\n\n"SETUP"\nLbl 20\n1\u2192S\n\n## BEGIN "funcCall3" blue\nFor(H,-\xad1,0\nIf H:Goto 15\nEnd:-\xad1\u2192H\n## END "funcCall3"\n\n## BEGIN "funcCall4" blue\nFor(H,\xad-1,0)\nIf H:Goto 01\nEnd:\xad-1\u2192H\n## END "funcCall4"\n\nIf K=95\nThen\nmin(N+1,dim(\u230aCOUNT))\u2192N\n0\u2192\u230aCOUNT(N)\n0\u2192K\nEnd\n\nIf K=85\nThen\nmax(1,N-1)\u2192N\nmin(N,J)\u2192J\nClrHome\n0\u2192K\nEnd\n\nIf K=21\nGoto 10\n\nGoto 20\n:::::::::\nLbl 99\nClrHome\n\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ti-basic",metastring:'tryit=true title="A try-it of the program in Solution 3:"',tryit:"true",title:'"A',"try-it":!0,of:!0,the:!0,program:!0,in:!0,Solution:!0,'3:"':!0},'ClrHome\n\n"MIT 2021 VINCENT KUHLMANN"\n0\u2192K\n1\u2192N\n1\u2192J\n{0,0,0,0,0,0}\u2192\u230aCOUNT\nGoto 20\n\n:::::::::\n\n\n"AWAITKEY"\nLbl 01\n0\u2192K\nWhile K=0\ngetKey\u2192K\nEnd\nIf K=22 or K=45\nGoto 99\n:End\n:::::::::\n\n\n\n"NORMAL"\nLbl 10\n0\u2192S\n\n## BEGIN "funcCall1" blue\nFor(H,\xad-1,0\nIf H:Goto 15\nEnd:\xad-1\u2192H\n## END "funcCall1"\n\n## BEGIN "funcCall2" blue\nFor(H,\xad-1,0\nIf H:Goto 01\nEnd:\xad-1\u2192H\n## END "funcCall2"\n\nIf K=21\nGoto 20\n\n\nIf K=102\nThen\n0\u2192\u230aCOUNT(J)\nEnd\n\nIf K=95 or K=85\nThen\n\u230aCOUNT(J)-1+2*(K=95)\u2192\u230aCOUNT(J)\nEnd\n\nIf K=34\nThen\nremainder(J,N)+1\u2192J\nEnd\n\nIf K=25\nThen\nremainder(J+N-2,N)+1\u2192J\nEnd\n\nGoto 10\n:::::::::\n"DRAW"\nLbl 15\n\n0\u2192C\nFor(I,1,N)\nC+\u230aCOUNT(I)\u2192C\nIf I=J and S=0\nThen\nOutput(I,1,">")\nElse\nOutput(I,1," ")\nEnd\nOutput(I,2,"COUNT:")\nOutput(I,9,"    ")\nOutput(I,9,\u230aCOUNT(I))\nEnd\nOutput(7,1,"AVG:")\nOutput(7,9,"        ")\nOutput(7,9,round(C/N,2))\n\nIf S=1\nThen\nOutput(8,1,"COUNTERS:")\nOutput(8,11,N)\nElse\nOutput(8,1,"           ")\nEnd\n:End\n:::::::::\n\n\n\n"SETUP"\nLbl 20\n1\u2192S\n\n## BEGIN "funcCall3" blue\nFor(H,-\xad1,0\nIf H:Goto 15\nEnd:-\xad1\u2192H\n## END "funcCall3"\n\n## BEGIN "funcCall4" blue\nFor(H,\xad-1,0)\nIf H:Goto 01\nEnd:\xad-1\u2192H\n## END "funcCall4"\n\nIf K=95\nThen\nmin(N+1,dim(\u230aCOUNT))\u2192N\n0\u2192\u230aCOUNT(N)\n0\u2192K\nEnd\n\nIf K=85\nThen\nmax(1,N-1)\u2192N\nmin(N,J)\u2192J\nClrHome\n0\u2192K\nEnd\n\nIf K=21\nGoto 10\n\nGoto 20\n:::::::::\nLbl 99\nClrHome\n')))}gn.isMDXComponent=!0},1874:function(n,e,t){t.d(e,{Z:function(){return v}});var o=t(7462),r=t(7294),a=t(6010),i=t(4544),l=t(8206),s=t(7594),u=t.n(s),c=t(448),p=t(1242),d="codeBlockContainer_2gih",h="codeBlockContent_3z4W",m="codeBlockTitle_1Kb7",f="codeBlock_6upA",g="copyButton_2e3i",E="codeBlockLines_xlV7",k=t(4311),N=/{([\d,-]+)}/,y=function(n){void 0===n&&(n=["js","jsBlock","jsx","python","html"]);var e={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},t=["highlight-next-line","highlight-start","highlight-end"].join("|"),o=n.map((function(n){return"(?:"+e[n].start+"\\s*("+t+")\\s*"+e[n].end+")"})).join("|");return new RegExp("^\\s*(?:"+o+")\\s*$")};function v(n){var e=n.children,t=n.className,s=n.metastring,v=n.title,w=(0,k.LU)().prism,C=(0,r.useState)(!1),b=C[0],I=C[1],T=(0,r.useState)(!1),S=T[0],x=T[1];(0,r.useEffect)((function(){x(!0)}),[]);var R=(0,k.bc)(s)||v,K=(0,r.useRef)(null),A=[],O=(0,c.Z)(),D=Array.isArray(e)?e.join(""):e;if(s&&N.test(s)){var G=s.match(N)[1];A=u()(G).filter((function(n){return n>0}))}var B=t&&t.replace(/language-/,"");!B&&w.defaultLanguage&&(B=w.defaultLanguage);var L=D.replace(/\n$/,"");if(0===A.length&&void 0!==B){for(var F,H="",U=function(n){switch(n){case"js":case"javascript":case"ts":case"typescript":return y(["js","jsBlock"]);case"jsx":case"tsx":return y(["js","jsBlock","jsx"]);case"html":return y(["js","jsBlock","html"]);case"python":case"py":return y(["python"]);default:return y()}}(B),Z=D.replace(/\n$/,"").split("\n"),M=0;M<Z.length;){var J=M+1,P=Z[M].match(U);if(null!==P){switch(P.slice(1).reduce((function(n,e){return n||e}),void 0)){case"highlight-next-line":H+=J+",";break;case"highlight-start":F=J;break;case"highlight-end":H+=F+"-"+(J-1)+","}Z.splice(M,1)}else M+=1}A=u()(H),L=Z.join("\n")}var W=function(){(0,l.Z)(L),I(!0),setTimeout((function(){return I(!1)}),2e3)};return r.createElement(i.ZP,(0,o.Z)({},i.lG,{key:String(S),theme:O,code:L,language:B}),(function(n){var e=n.className,t=n.style,i=n.tokens,l=n.getLineProps,s=n.getTokenProps;return r.createElement("div",{className:d},R&&r.createElement("div",{style:t,className:m},R),r.createElement("div",{className:(0,a.Z)(h,B)},r.createElement("pre",{tabIndex:0,className:(0,a.Z)(e,f,"thin-scrollbar"),style:t},r.createElement("code",{className:E},i.map((function(n,e){var t=l({line:n,key:e});A.includes(e+1)&&(t.className+=" docusaurus-highlight-code-line");var a=!0;return n.length>0&&n[n.length-1].content.endsWith("\n")&&(a=!1),r.createElement("span",(0,o.Z)({key:e},t),n.map((function(n,e){return r.createElement("span",(0,o.Z)({key:e},s({token:n,key:e})))})),a&&"\n")})))),r.createElement("button",{ref:K,type:"button","aria-label":(0,p.I)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:(0,a.Z)(g,"clean-btn"),onClick:W},b?r.createElement(p.Z,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):r.createElement(p.Z,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))))}))}}}]);